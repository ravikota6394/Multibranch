function makeFormReadonly(n){var t="#"+n+".form-editable ",i=t+":input:not(button)",r=t+" .btn-save-offer",u=t+" .btn-edit-offer";$(i).attr("disabled",!0);$(u).show();$(r).hide();$(t).removeClass("form-editable").addClass("form-readonly")}function makeFormEditable(n){var t="#"+n+".form-readonly ",i=t+":input:not(button)",r=t+" .btn-save-offer",u=t+" .btn-edit-offer";$(i).removeAttr("disabled");$(u).hide();$(r).show();$(t).removeClass("form-readonly").addClass("form-editable")}$(function(){setUpDataTables();setUpDataTablesBasic();setUpScrollables();setUpMyEmailsTable()});var setUpDataTables=function(){var n=$(".datatable").dataTable({autoWidth:!1,order:[],columnDefs:[{targets:["no-sort"],orderable:!1}],dom:"<'row no-margin'<'col-sm-6 no-padding'l><'col-sm-6 no-padding'f>r>t<'row no-margin'<'col-sm-6 no-padding'i><'col-sm-6 no-padding'p>>"})},setUpDataTablesBasic=function(){var n=$(".datatable-basic").dataTable({autoWidth:!1,dom:"t",info:!1,order:[],paging:!1,searching:!1,columnDefs:[{targets:["no-sort"],orderable:!1}]})},setUpScrollables=function(){$(".scrollable").ace_scroll({styleClass:"scroll-visible"});$(".scrollable").on("click","table.dataTable.dtr-inline.collapsed tbody td:first-child",function(){$(this).closest(".scrollable").ace_scroll("reset")})},setUpMyEmailsTable=function(){$("#my-emails").on("click",".email-preview-trigger",function(){var n=$(this),t=n.parent().find(".email-preview-text");n.toggleClass("open");t.toggleClass("show");$("#my-emails").ace_scroll("reset")})},setUpPopovers=function(){$("[data-rel=popover]").popover();$("[data-rel=tooltip]").tooltip()},setUpFormUtilities=function(){if($(".date-picker").exists())$(".date-picker").datepicker({format:"dd/mm/yyyy",autoclose:!0,todayHighlight:!0}).next().on(ace.click_event,function(){$(this).prev().focus()});if($(".time-picker").exists())$(".time-picker").timepicker({minuteStep:1,showMeridian:!1}).next().on(ace.click_event,function(){$(this).prev().focus()});if($(".datetime-picker").exists())$(".datetime-picker").datetimepicker({format:"DD/MM/YYYY hh:mm"}).next().on(ace.click_event,function(){$(this).prev().focus()});$("select.select2").exists()&&$("select.select2").select2();$(".ace-spinner-input").exists()&&$(".ace-spinner-input").ace_spinner({btn_up_class:"btn-default",btn_down_class:"btn-default"})},setUpEnquiryDetailsForm=function(){$("#destination-city").select2({createSearchChoice:function(n,t){if($(t).filter(function(){return this.text.localeCompare(n)===0}).length===0)return{id:n,text:n}},multiple:!1,data:[{id:0,text:"Please select"},{id:1,text:"City #1"},{id:2,text:"City #2"},{id:2,text:"City #3"}]});$("#property-map-modal").on("shown.bs.modal",function(){setUpPropertyMapView()})},setUpPropertyDetails=function(){$(".room-type-selector").select2({createSearchChoice:function(n,t){if($(t).filter(function(){return this.text.localeCompare(n)===0}).length===0)return{id:n,text:n}},multiple:!1,data:[{id:0,text:"Please select"},{id:1,text:"Room Type #1"},{id:2,text:"Room Type #2"},{id:2,text:"Room Type #3"}]})},setUpEmailNew=function(){$("#email-to").select2({createSearchChoice:function(n,t){if($(t).filter(function(){return this.text.localeCompare(n)===0}).length===0)return{id:n,text:n}},multiple:!1,data:[{id:0,text:"Please select"},{text:"Property Reservation Contact",children:[{id:1,text:"email1@prc.com"},{id:2,text:"email2@prc.com"},{id:3,text:"email3@prc.com"},{id:4,text:"email4@prc.com"},]},{text:"Client Contact",children:[{id:1,text:"email1@cc.com"},{id:2,text:"email2@cc.com"},{id:3,text:"email3@cc.com"},{id:4,text:"email4@cc.com"},]},{text:"Traveller",children:[{id:1,text:"email1@trav.com"},{id:2,text:"email2@trav.com"},{id:3,text:"email3@trav.com"},{id:4,text:"email4@trav.com"},]},]})},setUpActionNew=function(){$("#action-closed").on("change",function(){this.checked?$("#action-closed-reason").removeAttr("disabled"):($("#action-closed-reason").attr("disabled","disabled"),$("#action-closed-reason-details").attr("disabled","disabled"))});$("#action-closed-reason").on("change",function(){this.value==="Other"?$("#action-closed-reason-details").removeAttr("disabled"):$("#action-closed-reason-details").attr("disabled","disabled")})},setUpShortlistForm=function(){var n=".offer-form ",r=n+":input:not(button)",t=".btn-save-offer",i=".btn-edit-offer";$(n).hasClass("form-editable")&&($(r).removeAttr("disabled"),$(i).hide(),$(t).show());$(t).on("click",function(){var n=$(this).closest("form").attr("id");return makeFormReadonly(n),!1});$(i).on("click",function(){var n=$(this).closest("form").attr("id");return makeFormEditable(n),!1})};var setUpQAScoring=function(){$('#form-qa-check input[name*="clientreporting-"]').each(function(){var n=$(this).closest(".form-group").find(".toggle-field");$(this).is(":checked")&&$(this).val()=="no"?n.show():n.hide()});$('#form-qa-check input[name*="clientreporting-"]').change(function(){var n=$(this).closest(".form-group").find(".toggle-field");$(this).val()=="no"?n.show():n.hide()})},setUpNotifications=function(){$(".property-shortlist-add-success").click(function(){$.gritter.add({title:"Property Shortlisted",text:'You successfully added <strong>Fab Apartments City Center<\/strong> to your shortlist. For a complete list of your favourites, please <a href="shortlist-tab.html" class="orange">click here<\/a>.',class_name:"gritter-success"})});$(".property-shortlist-add-error").click(function(){$.gritter.add({title:"Oh snap!",text:"Property <strong>Fab Apartments City Center<\/strong> could not be added to your shortlist, please try again or contact support team.",class_name:"gritter-error"})});$(".property-shortlist-remove-success").click(function(){$.gritter.add({title:"Property Removed From Shortlist",text:'You successfully removed <strong>Fab Apartments City Center<\/strong> from your shortlist. For a complete list of your favourites, please <a href="shortlist-tab.html" class="orange">click here<\/a>.',class_name:"gritter-success"})});$(".note-added-success").click(function(){$.gritter.add({title:"Note Added",text:'You successfully added a note to property <strong>Fab Apartments City Center<\/strong>. To see all notes please <a class="orange" href="#">click here<\/a>.',class_name:"gritter-success"})});$(".note-added-error").click(function(){$.gritter.add({title:"Oh snap!",text:"There was an error trying to add a note to property <strong>Fab Apartments City Center<\/strong>. Please try again or contact support team.",class_name:"gritter-error"})})},setUpWysiwygEditor=function(){$(".wysiwyg-editor").ace_wysiwyg({toolbar:["bold","italic","underline",null,"justifyleft","justifycenter","justifyright",null,"createLink","unlink",null,"undo","redo"]}).prev().addClass("wysiwyg-style1")};$.fn.exists=function(){return this.length>0};
//# sourceMappingURL=scripts.min.js.map


@model eTrak.Dal.Models.EmailTemplate
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LandlordEmailLayout.cshtml";
}
<link href="~/css/Custom.css" rel="stylesheet" />

<!--Google Analytics Script-->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-47702928-1', 'auto');
    ga('send', 'pageview');
</script>
<!--Ended Google Analytics Script-->
<body ng-controller="DocusignEmailController">
    <input type="hidden" id="txtenCode" value="@ViewBag.EnCode">
    <input type="hidden" id="txtprCode" value="@ViewBag.PrCode">
    <input type="hidden" id="txttemplateID" value="@ViewBag.TemplateID">
    <input type="hidden" id="txtSourceName" value="@ViewBag.SourceName">

    <!--Modal for Cheking Billing Details-->
    <div class="modal fade" id="id_confirmBillingDetails" data-backdrop="static" data-keyboard="false" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="text-align:center">Confirm Payment Details</h4>
                </div>
                <div class="secureModal-body" id="content">
                    <div>
                        <p><b>Review Your Entry</b></p>
                        <p>Please review your booking info below.Click 'CLICK TO CONFIRM' button to finish. </p>
                        <br />
                        <table class="table-responsive table-striped">
                            <tr>
                                <td class="col-lg-6"><b>Booker Name</b></td>
                                <td class="col-lg-6">{{docusignData.BookerName}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Booker Email</b></td>
                                <td class="col-lg-6">{{docusignData.BookerEmail}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Guest Name</b></td>
                                <td class="col-lg-6">{{docusignData.GuestName}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Other Guest Names</b></td>
                                <td class="col-lg-6">{{OtherGuestNamesInput}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Guest Contact Number & Email</b></td>
                                <td class="col-lg-6">{{docusignData.GuestEmail}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Property</b></td>
                                <td class="col-lg-6">{{docusignData.Property}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Apartment Address</b></td>
                                <td class="col-lg-6">{{docusignData.PropertyAddress}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Apartment Type</b></td>
                                <td class="col-lg-6">{{docusignData.PropertyType}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Arrival Date</b></td>
                                <td class="col-lg-6">{{docusignData.ArrivalDate}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Departure Date</b></td>
                                <td class="col-lg-6">{{docusignData.DepartureDate}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Number of Nights</b></td>
                                <td class="col-lg-6">{{docusignData.NoofNights}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Nightly/Daily Rate Agreed</b></td>
                                <td class="col-lg-6">{{docusignData.DailyRateAgreed}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Nightly Taxes</b></td>
                                <td class="col-lg-6">{{docusignData.NightlyTaxes}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Tax Notes</b></td>
                                <td class="col-lg-6">{{docusignData.TaxNotes}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Cancellation/early TerminationPolicy Terms</b></td>
                                <td class="col-lg-6">{{docusignData.CancellationPolicy}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Accommodation offer notes</b></td>
                                <td class="col-lg-6">{{docusignData.AccommodationOfferNotes}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Name of Cardholder</b></td>
                                <td class="col-lg-6">{{cardholderName}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Cardholders Billing Address</b></td>
                                <td class="col-lg-6">{{cardhorderBillingAddress}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Type of Credit/Debit Card</b></td>
                                <td class="col-lg-6">{{cardType}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Card Number</b></td>
                                <td class="col-lg-6">{{ccNumberLastDigits}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Expiry Date</b></td>
                                <td class="col-lg-6">{{expiryDate}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Security Code</b></td>
                                <b type="password"><td class="col-lg-6">{{securityCode}}</td></b>
                            </tr>
                            @*<tr>
                                    <td class="col-lg-6"><b>Traveller Details</b></td>
                            </tr>*@
                            <tr>
                                <td class="col-lg-6"><b>Traveller Email Address</b></td>
                                <td class="col-lg-6">{{emailAddress}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Traveller Contact Number</b></td>
                                <td class="col-lg-6">{{contactNumber}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Traveller Flight Details</b></td>
                                <td class="col-lg-6">{{flightDetails}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Traveller Arrival Time</b></td>
                                <td class="col-lg-6">{{arrivalTime}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Traveller Additional Requests</b></td>
                                <td class="col-lg-6">{{travellerAdditionalRequest}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Property Additional Requests</b></td>
                                <td class="col-lg-6">{{AdditionalRequestsInput}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Has agreed to ESIG Terms</b></td>
                                <td class="col-lg-6">{{agreedToEsigTerms}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Has agreed to Terms and Conditions</b></td>
                                <td class="col-lg-6">{{agreedToTerms}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Has agreed to Privacy Policy</b></td>
                                <td class="col-lg-6">{{agreedToGdpr}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Has checked Rental Charge</b></td>
                                <td class="col-lg-6">{{agreedToRentalCharge}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Has checked Pet Deposits</b></td>
                                <td class="col-lg-6">{{agreedToPetsCharge}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Has checked Parking</b></td>
                                <td class="col-lg-6">{{agreedToParkingCharge}}</td>
                            </tr>
                            <tr>
                                <td class="col-lg-6"><b>Has checked Security deposits</b></td>
                                <td class="col-lg-6">{{agreedToSecurityCharge}}</td>
                            </tr>
                        </table>

                    </div>
                </div>
                <div class="modal-footer">
                    <div class="row">
                        <div class="col-xs-12" style="text-align:center">
                            <button class="btn btn-success btn-sm mb-10" ng-click="ConfirmPaymentDetails();" type="button">
                                <i class="ace-icon fa fa-check bigger-110"></i>
                                CLICK TO CONFIRM
                            </button>
                            <button class="btn btn-danger btn-sm mb-10" ng-click="HideModal()">
                                <i class="ace-icon fa fa-undo bigger-110"></i>
                                Go BACK
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Ended Modal for checking Billing Details-->
 
  <!--Modal for processing cc details-->
    <div class="modal fade" id="id_processingCardDetails" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"></h4>
                </div>
                <div class="modal-body">
                    <h5 style="text-align:center">Processing your card details please wait...</h5>
                </div>
                <div class="modal-footer"></div>
            </div>
        </div>
    </div>   
  <!--Ended modal for processing CC details-->

<!--Modal for checking failure status-->
    <div class="modal fade" id="id_failure" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title"></h4>
                </div>
                <div class="modal-body">
                    <h5 style="text-align:center">{{errorMessage}}</h5>
                </div>
                <div class="modal-footer"></div>
            </div>
        </div>
    </div>
    <!--Ended Modal for checking failure status-->
    <div ng-show="InputDivVisible">
        @if (Model != null)
        {
            @Html.Raw(Model.etTemplate)
        }
    </div>

    <div ng-show="MessageVisible" class="col-sm-10 col-md-10 col-lg-10 col-sm-offset-1 col-md-offset-1 col-lg-offset-1" style="text-align: center; border: 2px solid; border-color: grey; border-radius: 21px; padding: 47px; margin-bottom: 20em; margin-top: 10em;">
        <div style="font-weight: 500; line-height: 29px; font-size: 17px; font-family: Georgia" ng-bind-html=Message></div>
    </div>
    <div ng-show="ShowMessage" class="col-sm-10 col-md-10 col-lg-10 col-sm-offset-1 col-md-offset-1 col-lg-offset-1" style="text-align: center; border: 2px solid; border-color: grey; border-radius: 21px; padding: 47px; margin-bottom: 20em; margin-top: 10em;">
        <div style="font-weight: 500; line-height: 58px; font-size: 24px; font-family: Georgia">{{Message}}</div>
    </div>
</body>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
<link href="~/css/base.css" rel="stylesheet" />
<link href="~/css/plugins.css" rel="stylesheet" />
<link href="~/css/screen.css" rel="stylesheet" />
<!-- ===== Page Header ===== -->
<!-- ==================== Scripts =================== -->
<script src="~/Scripts/jquery-2.1.5.min.js"></script>
<script src="~/Scripts/jquery.datetimepicker.js"></script>
<script src="~/Scripts/jquery.tooltipster.min.js"></script>
<script src="~/Scripts/jquery.validate.1.0.min.js"></script>
<script src="~/Scripts/script-1.1.js"></script>

<script src="~/Scripts/jquery-2.2.0.min.js"></script>
<script src="~/Scripts/plugins.min.js"></script>
<script src="~/Scripts/frameworks.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.13/angular-ui-router.min.js"></script>
<script type="text/javascript" src="https://rawgit.com/betsol/angular-input-date/master/src/angular-input-date.js"></script>
<script src="~/Scripts/angular-datatables.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular-resource.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular-sanitize.min.js"></script>
<script src="~/Scripts/angular-mocks.js"></script>
<script src="~/Scripts/ui-bootstrap-tpls-0.13.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-select/0.11.2/select.min.js"></script>
<script src="~/Scripts/summernote.js"></script>
<script src="~/Scripts/ui-bootstrap-tpls-0.13.4.min.js"></script>
<script src="~/Scripts/angular-confirm.js"></script>
<script src="~/Scripts/spin.min.js"></script>
<script src="~/Scripts/toastr.min.js"></script>
<script src="https://v2.apartmentservice.com/JS/tas_.searchwidget.js" type="text/javascript"></script>

<script src="~/SPA/eTrakApp/00-Modules/eTrakAppModuleLandlord.js"></script>
<script src="~/SPA/eTrakApp/15-Docusign-Email-Controller/DocusignEmailController.js"></script>
<script src="~/SPA/eTrakApp/15-Docusign-Email-Controller/DocusignEmailService.js"></script>

<script>
    $("#aof-cardNumber").keyup(function () {
        var foo = $(this).val().split(" ").join("");
        if (foo.length > 0) {
            foo = foo.match(new RegExp('.{1,4}', 'g')).join(" ");
        }
        $(this).val(foo);
    });

    $("#aof-hasAggreedEsigDateTime").each(function () {
        $(this).datepicker({ dateFormat: 'yyy-dd-mm HH:MM:ss' }).val();
    });

</script>

<style>
    .secureModal-body {
        max-height: calc(100vh - 210px);
        overflow-y: auto;
    }
</style>
<script>
    $(function () {
        setUpFormUtilities();
    });
</script>	

<!--Google Analytics Script-->
<script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-47702928-1', 'auto');
        ga('send', 'pageview');
</script>
<!--Ended Google Analytics Script-->

<!-- Toggle tabbed navigation on mobile -->
<!-- Tabbed Navigation -->
<div class="row">
    <div class="col-xs-12">
        <div class="sidebar h-sidebar navbar-collapse collapse" id="tabbed-navigation">
            <ul class="nav nav-list">
                <li>
                    <a ui-sref="detailsTab({enqRef: '{{glbCurrentEnquiryRef}}'})">
                        <i class="menu-icon fa fa-bars"></i>
                        <span class="menu-text">Details</span>
                    </a>
                </li>
                <li>
                    <a ui-sref="detailsTab.search">
                        <i class="menu-icon fa fa-search"></i>
                        <span class="menu-text">Search</span>
                    </a>
                </li>
                <li>
                    <a ui-sref="detailsTab.shortlist">
                        <i class="menu-icon fa fa-filter"></i>
                        <span class="menu-text">Shortlist</span>
                    </a>
                </li>
                <li>
                    <a ui-sref="detailsTab.emails">
                        <i class="menu-icon fa fa-envelope"></i>
                        <span class="menu-text">Emails</span>
                    </a>
                </li>
                <li>
                    <a ui-sref="detailsTab.actions">
                        <i class="menu-icon fa fa-magic"></i>
                        <span class="menu-text">Actions</span>
                    </a>
                </li>              
              
                <li class="active">
                    <a ui-sref="detailsTab.qaCheck">
                        <i class="menu-icon fa fa-star"></i>
                        <span class="menu-text">QA Check</span>
                    </a>
                </li>         
             </ul>
        </div>
    </div>
</div>
<!-- End Tabbed Navigation -->
<!-- QA Check Tab Content -->
<div class="row">
    <div class="col-xs-12">
        <div class="tab-content">
            <!-- Assessment -->
            <div class="clearfix">
                <span class="label label-lg label-success arrowed-right mb-3">{{emailsWritten}} emails written</span>
                <span class="label label-lg label-info arrowed-in arrowed-right mb-3">{{autoEmailsCount}} auto emails sent</span>
                <span class="label label-lg label-warning arrowed-in arrowed-right mb-3">{{SlaMetCount}} SLAs met</span>
                <span class="label label-lg label-grey arrowed-in mb-3">{{SlaMissCount}} SLAs missed</span>
            </div>
            <div class="hr hr12 dotted"></div>
            <div class="widget-box transparent">
                <div class="widget-header">
                    <h4 class="widget-title">
                        QA Scoring
                    </h4>
                    <div class="widget-toolbar">
                        <a data-action="collapse" href="#">
                            <i class="ace-icon fa fa-chevron-up"></i>
                        </a>
                    </div>
                </div>

                <div class="widget-body">
                    <div class="widget-main bg-light-grey">
                        <form>
                            <h5 class="header">Staff assessment  ( Enquiry = {{QACheck.qaenCode}} , Assigned User = {{QACheck.qaUserCode}} )</h5>
                            <div class="row">
                                <!-- Field: Pro-active -->
                                <div class="col-sm-3 col-lg-2">
                                    <label>Pro-active</label>
                                    <div class="radio">
                                        <label>
                                            <input id="idQAqaProactive5" class="ace" type="radio" value="5" ng-model="QACheck.qaProactive" />
                                            <span class="lbl"> <span class="star-rating">5</span> Excellent</span>
                                        </label>
                                    </div>
                                    <div class="radio">
                                        <label>
                                            <input id="idQAqaProactive4" class="ace" type="radio" value="4" ng-model="QACheck.qaProactive" />
                                            <span class="lbl"> <span class="star-rating">4</span> Very Good</span>
                                        </label>
                                    </div>
                                    <div class="radio">
                                        <label>
                                            <input id="idQAqaProactive3" class="ace" type="radio" value="3" ng-model="QACheck.qaProactive" />
                                            <span class="lbl"> <span class="star-rating">3</span> Good</span>
                                        </label>
                                    </div>
                                    <div class="radio">
                                        <label>
                                            <input id="idQAqaProactive2" class="ace" type="radio" value="2" ng-model="QACheck.qaProactive" />
                                            <span class="lbl"> <span class="star-rating">2</span> Average</span>
                                        </label>
                                    </div>
                                    <div class="radio">
                                        <label>
                                            <input id="idQAqaProactive1" class="ace" type="radio" value="1" ng-model="QACheck.qaProactive" />
                                            <span class="lbl"> <span class="star-rating">1</span> Poor</span>
                                        </label>
                                    </div>
                                </div>

                                <!-- Field: Professional -->
                                <div class="col-sm-3 col-lg-2">
                                    <div class="row form-group">
                                        <label>Professional</label>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaProfessional5" class="ace" type="radio" value="5" ng-model="QACheck.qaProfessional" />
                                                <span class="lbl"> <span class="star-rating">5</span> Excellent</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaProfessional4" class="ace" type="radio" value="4" ng-model="QACheck.qaProfessional" />
                                                <span class="lbl"> <span class="star-rating">4</span> Very Good</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaProfessional3" class="ace" type="radio" value="3" ng-model="QACheck.qaProfessional" />
                                                <span class="lbl"> <span class="star-rating">3</span> Good</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaProfessional2" class="ace" type="radio" value="2" ng-model="QACheck.qaProfessional" />
                                                <span class="lbl"> <span class="star-rating">2</span> Average</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaProfessional1" class="ace" type="radio" value="1" ng-model="QACheck.qaProfessional" />
                                                <span class="lbl"> <span class="star-rating">1</span> Poor</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Field: Efficient -->
                                <div class="col-sm-3 col-lg-2">
                                    <div class="row form-group">
                                        <label>Efficient</label>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaEfficient5" class="ace" type="radio" value="5" ng-model="QACheck.qaEfficient" />
                                                <span class="lbl"> <span class="star-rating">5</span> Excellent</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaEfficient4" class="ace" type="radio" value="4" ng-model="QACheck.qaEfficient" />
                                                <span class="lbl"> <span class="star-rating">4</span> Very Good</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaEfficient3" class="ace" type="radio" value="3" ng-model="QACheck.qaEfficient" />
                                                <span class="lbl"> <span class="star-rating">3</span> Good</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaEfficient2" class="ace" type="radio" value="2" ng-model="QACheck.qaEfficient" />
                                                <span class="lbl"> <span class="star-rating">2</span> Average</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaEfficient1" class="ace" type="radio" value="1" ng-model="QACheck.qaEfficient" />
                                                <span class="lbl"> <span class="star-rating">1</span> Poor</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Field: Personal Contact -->
                                <div class="col-sm-3 col-lg-2">
                                    <div class="row form-group">
                                        <label>Personal Contact</label>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaPersonalContact5" class="ace" type="radio" value="5" ng-model="QACheck.qaPersonalContact" />
                                                <span class="lbl"> <span class="star-rating">5</span> Excellent</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaPersonalContact4" class="ace" type="radio" value="4" ng-model="QACheck.qaPersonalContact" />
                                                <span class="lbl"> <span class="star-rating">4</span> Very Good</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaPersonalContact3" class="ace" type="radio" value="3" ng-model="QACheck.qaPersonalContact" />
                                                <span class="lbl"> <span class="star-rating">3</span> Good</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaPersonalContact2" class="ace" type="radio" value="2" ng-model="QACheck.qaPersonalContact" />
                                                <span class="lbl"> <span class="star-rating">2</span> Average</span>
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input id="idQAqaPersonalContact1" class="ace" type="radio" value="1" ng-model="QACheck.qaPersonalContact" />
                                                <span class="lbl"> <span class="star-rating">1</span> Poor</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <h5 class="header">Client reporting</h5>
                            <div class="row">
                                <div class="col-lg-6">
                                    <!-- Field: SLA met -->
                                    <div class="row form-group">
                                        <label class="col-sm-4">SLA Met</label>
                                        	<div class="col-sm-8">
                                            <label class="mr-5 no-padding">
                                                <input id="idQAqaSLAMet1" class="ace" type="radio" value="1" ng-model="QACheck.qaSLAMet" />
                                                <span class="lbl"> yes</span>
                                            </label>
                                            <label>
                                                <input id="idQAqaSLAMet0" class="ace" type="radio" value="0" ng-model="QACheck.qaSLAMet" />
                                                <span class="lbl"> no</span>
                                            </label>
                                        </div>
                                        <!-- Field: Please explain -->
                                        <div class="col-xs-12 toggle-field">
                                            <label for="idQAqaSLAMetExplanation" class="label-required">Please explain why</label>
                                            <textarea id="idQAqaSLAMetExplanation" name="idQAqaSLAMetExplanation" class="form-control" ng-model="QACheck.qaSLAMetExplanation"></textarea>
                                            <label id="idslamet" hidden style="color: red; display: none"></label>
                                        </div>
                                    </div>

                                    <!-- Field: Compliance -->
                                    <div class="row form-group">
                                        <label class="col-sm-4">Compliance</label>
                                        <div class="col-sm-8">
                                            <label class="mr-5 no-padding">
                                                <input id="idQAqaComplience1" class="ace" type="radio" value="1" ng-model="QACheck.qaCompliance" />
                                                <span class="lbl"> yes</span>
                                            </label>
                                            <label>
                                                <input id="idQAqaComplience0" class="ace" type="radio" value="0" ng-model="QACheck.qaCompliance" />
                                                <span class="lbl"> no</span>
                                            </label>
                                        </div>
                                        <!-- Field: Please explain -->
                                        <div class="col-xs-12 toggle-field">                                        
                                            <label for="idQAqaComplianceExplanation" class="label-required">Please explain why</label>
                                            <textarea id="idQAqaComplianceExplanation" name="idQAqaComplianceExplanation" class="form-control" ng-model="QACheck.qaComplianceExplanation"></textarea>
                                            <label id="idslacompliance" hidden style="color: red; display: none"></label>
                                        </div>
                                    </div>

                                    <!-- Field: Requirements met -->
                                    <div class="row form-group">
                                        <label class="col-sm-4">Requirements Met</label>
                                        <div class="col-sm-8">
                                            <label class="mr-5 no-padding">
                                                <input id="idQAqaRequirementsMet1" class="ace" type="radio" value="1" ng-model="QACheck.qaRequirementsMet" />
                                                <span class="lbl"> yes</span>
                                            </label>
                                            <label>
                                                <input id="idQAqaRequirementsMet0" class="ace" type="radio" value="0" ng-model="QACheck.qaRequirementsMet" />
                                                <span class="lbl"> no</span>
                                            </label>
                                        </div>
                                        <!-- Field: Please explain -->
                                        <div class="col-xs-12 toggle-field">
                                            <label for="idQAqaRequirementsMetExplanation" class="label-required">Please explain why</label>
                                            <textarea id="idQAqaRequirementsMetExplanation" name="idQAqaRequirementsMetExplanation" class="form-control" ng-model="QACheck.qaRequirementsMetExplanation"></textarea>
                                            <label id="idslarequirements" hidden style="color: red; display: none"></label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-xs-12 text-right">                                   
                                    <button id="idbtnUpdateCheck" type="submit" class="btn btn-success btn-sm mb-10" ng-click="SaveCheck(QACheck.qaCode)">
                                        <i class="ace-icon fa fa-check bigger-110"></i>
                                        Save Check
                                    </button>
                                    <button id="idbtnCancelCheck" type="reset" class="btn btn-danger btn-sm mb-10">
                                        <i class="ace-icon fa fa-times bigger-110"></i>
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- QA Check Table -->
            <h3 class="header">
                Recent Checks
            </h3>
            <div class="section-container light-bg">
                @*<div class="well">*@
                <table id="idQACheckDataTable" show-filter="true" datatable="ng" dt-options="qaOptions" class="responsive   table table-striped table-bordered">
                    <thead class="thin-border-bottom">
                        <tr>
                            <th data-class="expand">Edit QACheck #</th>
                            <th data-hide="screen_xs,screen_sm">EnqRef</th>
                            <th data-hide="screen_xs,screen_sm">Date</th>
                            <th data-hide="screen_xs,screen_sm">User</th>
                            <th data-hide="screen_xs,screen_sm">SLA Met</th>
                            <th data-hide="screen_xs,screen_sm">SLA Met Explination</th>
                            <th data-hide="screen_xs,screen_sm">Compliance</th>
                            <th data-hide="screen_xs,screen_sm">Compliance Explination</th>
                            <th data-hide="screen_xs,screen_sm">Requirements Met</th>
                            <th data-hide="screen_xs,screen_sm">Requirements Met Explination</th>
                            <th data-hide="screen_xs,screen_sm">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="getQACheck in qaCheckList">
                            <td class="text-center"> <button ng-click="EditQACheck(getQACheck.qaCode)"> {{ $index + 1 }} </button></td>
                            <td class="text-center">{{getQACheck.qaenCode}}</td>
                            <td class="text-center" >{{getQACheck.qaCreatedDate  | date:'dd-MM-yyyy HH:mm:ss'}}</td>
                            <td class="text-center" >{{getQACheck.usDescription}}</td>
                            <td class="text-center"><span class="{{getQACheck.disSLAMetClass}}" title="{{getQACheck.disSLAMetWord}}"></span></td>
                            <td class="text-center">{{getQACheck.qaSLAMetExplanation}}</td>
                            <td class="text-center"><span class="{{getQACheck.disComplianceClass}}" title="{{getQACheck.disComplianceWord}}"></span></td>
                            <td class="text-center">{{getQACheck.qaComplianceExplanation}}</td>
                            <td class="text-center"><span class="{{getQACheck.disRequirementsMetClass}}" title="{{getQACheck.disRequirementsMetWord}}"></span></td>
                            <td class="text-center">{{getQACheck.qaRequirementsMetExplanation}}</td>
                            <td>
                                <button class="btn btn-sm btn-info" type="button" ng-click="DeleteQACheck(getQACheck.qaCode)">
                                    Delete
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                @*</div>*@
            </div>
        </div>
    </div>
</div><!-- End QA Check Tab Content -->
